<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ssc checkout</title>

    <!-- include the widget -->
    <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <h1>ssc</h1>

    <button id="checkout">Subscribe</button>

    <!-- <form id="signup-form">
        <h2>subscribe form</h2>
        <label for="email">email</label>
        <input type="email" name="email" id="email"> -->

        <!-- Elements will create input elements here -->
        <!-- <div id="card-element" class="MyCardElement"></div> -->

        <!-- We'll put the error messages in this element -->
        <!-- <div id="card-errors" role="alert"></div> -->

        <!-- <div class="form-controls">
            <button type="submit">subscribe</button>
        </div>
    </form> -->

    <!-- Add a menu:
    Log in / Sign up - when the user is not logged in
    Username / Log out - when the user is logged in
    -->
    <div data-netlify-identity-menu></div>

    <!-- Add a simpler button:
    Simple button that will open the modal.
    -->
    <div data-netlify-identity-button></div>

    <script src="/index.js"></script>
    <script>
        // Open the modal
        // netlifyIdentity.open()

        // Get the current user:
        // Available after on('init') is invoked
        const user = netlifyIdentity.currentUser();
        console.log('user', user)

        // Bind to events
        netlifyIdentity.on('init', user => console.log('init', user));
        netlifyIdentity.on('login', user => console.log('login', user));
        netlifyIdentity.on('logout', () => console.log('Logged out'));
        netlifyIdentity.on('error', err => console.error('Error', err));
        netlifyIdentity.on('open', () => console.log('Widget opened'));
        netlifyIdentity.on('close', () => console.log('Widget closed'));

        // Unbind from events
        // netlifyIdentity.off('login'); // to unbind all registered handlers
        // netlifyIdentity.off('login', handler); // to unbind a single handler

        // Close the modal
        // netlifyIdentity.close();

        // Log out the user
        // netlifyIdentity.logout();

        // Refresh the user's JWT
        // Call in on('login') handler to ensure token refreshed after it
        // expires (1hr)
        // Note: this method returns a promise.
        // netlifyIdentity.refresh().then((jwt)=>console.log(jwt))

        // Change language
        // netlifyIdentity.setLocale('en');
    </script>
</body>
</html>

